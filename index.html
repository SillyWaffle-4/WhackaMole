<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Whack-a-Mole Game 3x6</title>
        <style>
            body {
                font-family: Arial, sans-serif;
                text-align: center;
                margin-top: 20px;
                background-color: #f4f4f4;
            }

            #game-container {
                /* Set the container size large enough for the 3x6 grid */
                position: relative;
                width: 750px; 
                height: 400px;
                margin: 20px auto; 
                background-color: #a0522d; /* Dirt/Ground color */
                border-radius: 10px;
                border: 10px solid #6b4423;
            }

            .mole-hole {
                /* All 18 moles share these properties */
                position: absolute; 
                width: 70px; 
                height: 70px;
                background-color: #6b4423; 
                border-radius: 50%;
                cursor: pointer;
                display: none; /* Moles start hidden */
                
                /* Mole Visuals and Click Effect */
                line-height: 70px;
                text-align: center;
                font-size: 30px; 
                color: white;
                transition: transform 0.1s ease-out;
            }
            .mole-hole:active {
                transform: scale(0.9); /* Mole shrinks when hit */
            }
            #easybutton {
                padding: 10px 20px;
                font-size: 16px;
                margin: 10px;
                cursor: pointer;
                background-color: lightgreen;
            }
            #hardbutton {
                padding: 10px 20px;
                font-size: 16px;
                margin: 10px;
                background-color: lightcoral;
                cursor: pointer;
            }
            
            /* --- MOLE POSITIONING (3 ROWS, 6 COLUMNS) --- */
            /* Positions are calculated using a 120px gap (70px mole size + 50px space) */
            
            /* Row 1 (Top: 40px) */
            #mole1 { top: 40px; left: 20px; }
            #mole2 { top: 40px; left: 140px; }
            #mole3 { top: 40px; left: 260px; }
            #mole4 { top: 40px; left: 380px; }
            #mole5 { top: 40px; left: 500px; }
            #mole6 { top: 40px; left: 620px; }

            /* Row 2 (Top: 160px) */
            #mole7 { top: 160px; left: 20px; }
            #mole8 { top: 160px; left: 140px; }
            #mole9 { top: 160px; left: 260px; }
            #mole10 { top: 160px; left: 380px; }
            #mole11 { top: 160px; left: 500px; }
            #mole12 { top: 160px; left: 620px; }

            /* Row 3 (Top: 280px) */
            #mole13 { top: 280px; left: 20px; }
            #mole14 { top: 280px; left: 140px; }
            #mole15 { top: 280px; left: 260px; }
            #mole16 { top: 280px; left: 380px; }
            #mole17 { top: 280px; left: 500px; }
            #mole18 { top: 280px; left: 620px; }
            /* --- END POSITIONING --- */


            #score {
                font-size: 28px;
                font-weight: bold;
                margin-top: 20px;
                font-family: fantasy;
                color: #333;
            }
        </style>
    </head>
    <body>
        <h1>Whack-A-Mole! ðŸ”¨</h1>
        
        <div id="game-container"> 
            <button id="easybutton">Easy Mode</button>
            <button id="hardbutton">Hard Mode</button>
            <div id="mole1" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole2" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole3" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole4" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole5" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole6" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole7" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole8" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole9" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole10" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole11" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole12" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole13" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole14" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole15" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole16" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
            <div id="mole17" class="mole-hole"><img src="mole-left.JPG" width="70" alt="mole" /></div> 
            <div id="mole18" class="mole-hole"><img src="mole-right.JPG" width="70" alt="mole" /></div> 
        </div>
        
        <div id="score">Score: 0</div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        
        <script>
            //lets them choose easy or hard mode
            //changes variables based on choice
            


            
            //delays for one second
            // --- Game Variables ---
            let score = 0;
            let isClickable = true;
            var moletime;
            var moleinterval;
            
            
            const gameTime = 30000; //30 seconds
            const starttime = Date.now();
            moleinterval = 1000; // Time between mole appearances
            moletime = 1000; // Time mole stays up
            const gameOverSound = new Audio('gameover-sound.mp3');
            gameOverSound.loop = false;
            const ouchSound = new Audio('ouch-sound.mp3');
            ouchSound.loop = false;
            // JAVASCRIPT FIX: Array containing all 18 mole IDs
            const moleIds = [
                "#mole1", "#mole2", "#mole3", "#mole4", "#mole5", "#mole6",
                "#mole7", "#mole8", "#mole9", "#mole10", "#mole11", "#mole12",
                "#mole13", "#mole14", "#mole15", "#mole16", "#mole17", "#mole18"
            ];

            // --- 1. Click Handlers (Whack) ---
            // Target all moles using the common class 'mole-hole'
            $(".mole-hole").on("click", function() {
                if ($(this).is(':visible') && isClickable) {
                    score++;
                    $("#score").text("Score: " + score);
                    $(this).hide(); 
                    ouchSound.play();
                    isClickable = false;
                }
            });

            // --- 2. Randomizer Function: Returns a number between 1 and 18 ---
            function randomizer() {
                // Returns a random index (0-17) + 1, giving us 1 through 18
                return Math.floor(Math.random() * moleIds.length) + 1; 
            }

            // --- 3. Mole Appearance and Game Loop ---
            function moleappear() {
                // Check if the game time is up
                if (Date.now() - starttime >= gameTime) {
                    gameOverSound.play();   

                    if (score >= 50)
                        alert("Amazing! Your final score is: " + score);
                    else if (score >= 30)
                        alert("Great job! Your final score is: " + score);
                    else
                        alert("Game over! Your final score is: " + score);
                    return;
                }
                

                isClickable = true; 
                
                // Get a random mole number (1-18)
                const moleIndex = randomizer(); 
                
                // Select the mole using the array of IDs (moleIndex - 1 compensates for 0-based array index)
                let $moleToShow = $(moleIds[moleIndex - 1]); 

                $moleToShow.show(); // MOLE POPS UP!

                // Set a timeout to hide the mole after 'moletime'
                setTimeout(function() {
                   // $moleToShow.hide(); // MOLE GOES DOWN!
                    
                    // Call the next iteration of moleappear after 'moleinterval'
                    setTimeout(moleappear, moleinterval); 

                }, moletime);            
            }


            //make moles and container dissapear during selection
            $("#easybutton, #hardbutton").click(function(){
                $("#easybutton").hide();
                $("#hardbutton").hide();
                $("#game-container").show();
            });
            // --- START THE GAME ---

            //work on these buttons to change difficulty
            $("#easybutton").click(function(){
                moleinterval = 300; 
                moletime = 500;
                $("#game-container").show();
                $("#easybutton").hide();
                $("#hardbutton").hide();
                moleappear();
            });
            $("#hardbutton").click(function(){
                moleinterval = 150;
                moletime = 250;
            
                $("#game-container").show();
                $("#hardbutton").hide();
                $("#easybutton").hide();
                moleappear(); 
            });
            
        </script>
    </body>
</html>
